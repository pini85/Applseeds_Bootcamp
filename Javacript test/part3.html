<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <title>Document</title>
  </head>
  <body>
    <div id="animals"></div>

    <script>
      const myAnimals = {};
      myAnimals.animals = ["dog", "horse", "snake"];
      myAnimals.noises = ["woof", "hi hi", "sssss"];

      $(document).ready(() => {
        myAnimals.start();
      });

      myAnimals.start = () => {
        myAnimals.createAnimals();
      };

      myAnimals.createAnimals = () => {
        const animalContent = $("#animals");
        animalContent.empty();
        for (let i = 0; i < myAnimals.animals.length; i++) {
          const animal = $("<div />").addClass("animal");
          const animalText = $("<span/>");
          animalText.text(myAnimals.animals[i]);
          animal.append(animalText);
          animalContent.append(animal);
          const animalNoiseBtn = $("<button />")
            .text("make noise")
            .attr("data-index", i);
          animal.append(animalNoiseBtn);
          animalNoiseBtn.click(function() {
            console.log(this);

            myAnimals.makeNoise(parseInt($(this).attr("data-index")));
          });
        }
      };
      myAnimals.makeNoise = animalIndex => {
        //4
        alert(myAnimals.noises[animalIndex]);
      };
      console.log(myAnimals);
    </script>
  </body>
</html>
